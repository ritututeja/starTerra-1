

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MarkupSafe &mdash; Visual Interactive Computing Environment 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.tablesorter.min.js"></script>
        <script type="text/javascript" src="../../../../../_static/cyverse.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/cyverse.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> Visual Interactive Computing Environment
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_started/about.html"><strong>About</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_started/prerequisites.html"><strong>Prerequisites</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_started/apptypes.html"><strong>Applications</strong></a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../user_guide/quick-jupyter.html"><strong>Starting JupyterLab App</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../user_guide/quick-rstudio.html"><strong>Starting RStudio App</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../user_guide/quick-rshiny.html"><strong>Starting Shiny App</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../user_guide/sharing.html"><strong>Sharing VICE apps with collaborators</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../user_guide/sharing.html#vice-share-7"></a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../developer_guide/workflow.html"><strong>Workflow</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../developer_guide/adding.html"><strong>Guidelines for adding VICE tools in DE</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../developer_guide/building.html"><strong>Building VICE tools and apps</strong></a></li>
</ul>
<p class="caption"><span class="caption-text">VICE Apps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../vice_apps/examples.html">VICE Apps in DE</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_help/faq.html"><strong>Frequently Asked Questions</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_help/bestpractices.html"><strong>VICE Best practices</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_help/tool_troubleshooting.html"><strong>Tool Troubleshooting</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_help/contact.html"><strong>Contact</strong></a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Visual Interactive Computing Environment</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
      <li>MarkupSafe</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../_sources/buildenv/lib/python3.5/site-packages/MarkupSafe-1.0.dist-info/DESCRIPTION.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="markupsafe">
<h1>MarkupSafe<a class="headerlink" href="#markupsafe" title="Permalink to this headline">¶</a></h1>
<p>Implements a unicode subclass that supports HTML strings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">markupsafe</span> <span class="kn">import</span> <span class="n">Markup</span><span class="p">,</span> <span class="n">escape</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">escape</span><span class="p">(</span><span class="s2">&quot;&lt;script&gt;alert(document.cookie);&lt;/script&gt;&quot;</span><span class="p">)</span>
<span class="go">Markup(u&#39;&amp;lt;script&amp;gt;alert(document.cookie);&amp;lt;/script&amp;gt;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tmpl</span> <span class="o">=</span> <span class="n">Markup</span><span class="p">(</span><span class="s2">&quot;&lt;em&gt;</span><span class="si">%s</span><span class="s2">&lt;/em&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tmpl</span> <span class="o">%</span> <span class="s2">&quot;Peter &gt; Lustig&quot;</span>
<span class="go">Markup(u&#39;&lt;em&gt;Peter &amp;gt; Lustig&lt;/em&gt;&#39;)</span>
</pre></div>
</div>
<p>If you want to make an object unicode that is not yet unicode
but don’t want to lose the taint information, you can use the
<code class="docutils literal notranslate"><span class="pre">soft_unicode</span></code> function.  (On Python 3 you can also use <code class="docutils literal notranslate"><span class="pre">soft_str</span></code> which
is a different name for the same function).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">markupsafe</span> <span class="kn">import</span> <span class="n">soft_unicode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">soft_unicode</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">u&#39;42&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">soft_unicode</span><span class="p">(</span><span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">))</span>
<span class="go">Markup(u&#39;foo&#39;)</span>
</pre></div>
</div>
<div class="section" id="html-representations">
<h2>HTML Representations<a class="headerlink" href="#html-representations" title="Permalink to this headline">¶</a></h2>
<p>Objects can customize their HTML markup equivalent by overriding
the <code class="docutils literal notranslate"><span class="pre">__html__</span></code> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span> <span class="k">def</span> <span class="nf">__html__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">return</span> <span class="s1">&#39;&lt;strong&gt;Nice&lt;/strong&gt;&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">escape</span><span class="p">(</span><span class="n">Foo</span><span class="p">())</span>
<span class="go">Markup(u&#39;&lt;strong&gt;Nice&lt;/strong&gt;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="n">Foo</span><span class="p">())</span>
<span class="go">Markup(u&#39;&lt;strong&gt;Nice&lt;/strong&gt;&#39;)</span>
</pre></div>
</div>
</div>
<div class="section" id="silent-escapes">
<h2>Silent Escapes<a class="headerlink" href="#silent-escapes" title="Permalink to this headline">¶</a></h2>
<p>Since MarkupSafe 0.10 there is now also a separate escape function
called <code class="docutils literal notranslate"><span class="pre">escape_silent</span></code> that returns an empty string for <code class="docutils literal notranslate"><span class="pre">None</span></code> for
consistency with other systems that return empty strings for <code class="docutils literal notranslate"><span class="pre">None</span></code>
when escaping (for instance Pylons’ webhelpers).</p>
<p>If you also want to use this for the escape method of the Markup
object, you can create your own subclass that does that:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">markupsafe</span> <span class="kn">import</span> <span class="n">Markup</span><span class="p">,</span> <span class="n">escape_silent</span> <span class="k">as</span> <span class="n">escape</span>

<span class="k">class</span> <span class="nc">SilentMarkup</span><span class="p">(</span><span class="n">Markup</span><span class="p">):</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">escape</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">escape</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="new-style-string-formatting">
<h2>New-Style String Formatting<a class="headerlink" href="#new-style-string-formatting" title="Permalink to this headline">¶</a></h2>
<p>Starting with MarkupSafe 0.21 new style string formats from Python 2.6 and
3.x are now fully supported.  Previously the escape behavior of those
functions was spotty at best.  The new implementations operates under the
following algorithm:</p>
<ol class="arabic simple">
<li><p>if an object has an <code class="docutils literal notranslate"><span class="pre">__html_format__</span></code> method it is called as
replacement for <code class="docutils literal notranslate"><span class="pre">__format__</span></code> with the format specifier.  It either
has to return a string or markup object.</p></li>
<li><p>if an object has an <code class="docutils literal notranslate"><span class="pre">__html__</span></code> method it is called.</p></li>
<li><p>otherwise the default format system of Python kicks in and the result
is HTML escaped.</p></li>
</ol>
<p>Here is how you can implement your own formatting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>

    <span class="k">def</span> <span class="nf">__html_format__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">format_spec</span> <span class="o">==</span> <span class="s1">&#39;link&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;a href=&quot;/user/{0}&quot;&gt;{1}&lt;/a&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__html__</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">format_spec</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Invalid format spec&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__html__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__html__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;span class=user&gt;{0}&lt;/span&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
</pre></div>
</div>
<p>And to format that user:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;p&gt;User: {0:link}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
<span class="go">Markup(u&#39;&lt;p&gt;User: &lt;a href=&quot;/user/1&quot;&gt;&lt;span class=user&gt;foo&lt;/span&gt;&lt;/a&gt;&#39;)</span>
</pre></div>
</div>
<p>Markupsafe supports Python 2.6, 2.7 and Python 3.3 and higher.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, CyVerse

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>